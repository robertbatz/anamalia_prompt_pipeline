<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anamalia Prompt Assembler - Assemble Mode</title>
    <link rel="stylesheet" href="styles.css?v=202501241045">
</head>
<body>
    <div class="header">
        <h1>üé® Anamalia Prompt Assembler</h1>
        <p>Generate assembled prompts and browse your 3D stop-motion renders</p>
        
        <!-- Navigation -->
        <div class="mode-toggle">
            <a href="assemble.html" class="mode-btn active">
                üîß Assemble Mode
            </a>
            <a href="browse.html" class="mode-btn">
                üîç Browse Mode
            </a>
        </div>
    </div>

    <div class="container">
        <!-- Statistics -->
        <div id="stats" class="stats">
            <!-- Stats will be populated by JavaScript -->
        </div>

        <!-- Assemble Mode Interface -->
        <div id="assemble-mode" class="assemble-mode">
            <div class="assemble-header">
                <h2>üé¨ Assemble New Prompts</h2>
                <p>Generate new prompt bundles by selecting assets and settings</p>
            </div>

            <!-- Project Management -->
            <div class="filter-section project-management">
                <h3>‚öôÔ∏è Project Management</h3>
                <div class="filter-group">
                    <div>
                        <label for="project-default" class="field-label">
                            Current Project
                            <span class="info-icon" data-field="project-default" title="Click for help">?</span>
                        </label>
                        <select id="project-default">
                            <option value="anamalia-password" selected>Anamalia Password</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="new-project-name" class="field-label">
                            New Project Name
                        </label>
                        <div class="project-create-group">
                            <input type="text" id="new-project-name" placeholder="Enter project name..." />
                            <button id="create-project-btn" class="btn btn-primary">Create Project</button>
                        </div>
                    </div>
                    
                    <div>
                        <label class="field-label">Project Actions</label>
                        <div class="project-actions-group">
                            <button id="load-project-btn" class="btn btn-secondary">Load Project</button>
                            <button id="delete-project-btn" class="btn btn-danger">Delete Project</button>
                            <label for="upload-project-file" class="btn btn-secondary file-upload-btn">
                                üìÅ Upload Project
                                <input type="file" id="upload-project-file" accept=".json" style="display: none;">
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Output Parameters -->
            <div class="filter-section">
                <h3>üìê Output Parameters</h3>
                <div class="filter-group">
                    <div>
                        <label for="output-width" class="field-label">
                            Width (pixels)
                            <span class="info-icon" data-field="output-width" title="Click for help">?</span>
                        </label>
                        <select id="output-width">
                            <option value="default">Default (1024px)</option>
                            <option value="512">512px</option>
                            <option value="768">768px</option>
                            <option value="1024" selected>1024px</option>
                            <option value="1280">1280px</option>
                            <option value="1536">1536px</option>
                            <option value="2048">2048px</option>
                            <option value="custom">Custom Width</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="output-height" class="field-label">
                            Height (pixels)
                            <span class="info-icon" data-field="output-height" title="Click for help">?</span>
                        </label>
                        <select id="output-height">
                            <option value="default">Default (1024px)</option>
                            <option value="512">512px</option>
                            <option value="768">768px</option>
                            <option value="1024" selected>1024px</option>
                            <option value="1280">1280px</option>
                            <option value="1536">1536px</option>
                            <option value="2048">2048px</option>
                            <option value="custom">Custom Height</option>
                        </select>
                    </div>
                </div>
                
                <div class="filter-group">
                    <div>
                        <label for="output-aspect-ratio" class="field-label">
                            Aspect Ratio
                            <span class="info-icon" data-field="output-aspect-ratio" title="Click for help">?</span>
                        </label>
                        <select id="output-aspect-ratio">
                            <option value="default">Default (16:9)</option>
                            <option value="1:1">Square (1:1)</option>
                            <option value="4:3">Standard (4:3)</option>
                            <option value="16:9" selected>Widescreen (16:9)</option>
                            <option value="3:2">Classic (3:2)</option>
                            <option value="21:9">Ultrawide (21:9)</option>
                            <option value="9:16">Portrait (9:16)</option>
                            <option value="custom">Custom Ratio</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="output-quality" class="field-label">
                            Quality
                            <span class="info-icon" data-field="output-quality" title="Click for help">?</span>
                        </label>
                        <select id="output-quality">
                            <option value="default">Default (High)</option>
                            <option value="standard">Standard</option>
                            <option value="high" selected>High</option>
                            <option value="ultra">Ultra</option>
                            <option value="lossless">Lossless</option>
                        </select>
                    </div>
                </div>
                
                <div class="filter-group">
                    <div>
                        <label for="output-format" class="field-label">
                            Output Format
                            <span class="info-icon" data-field="output-format" title="Click for help">?</span>
                        </label>
                        <select id="output-format">
                            <option value="default">Default (PNG)</option>
                            <option value="png" selected>PNG</option>
                            <option value="jpg">JPEG</option>
                            <option value="webp">WebP</option>
                            <option value="tiff">TIFF</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="output-color-space" class="field-label">
                            Color Space
                            <span class="info-icon" data-field="output-color-space" title="Click for help">?</span>
                        </label>
                        <select id="output-color-space">
                            <option value="default">Default (sRGB)</option>
                            <option value="sRGB" selected>sRGB</option>
                            <option value="AdobeRGB">Adobe RGB</option>
                            <option value="P3">P3</option>
                            <option value="Rec2020">Rec. 2020</option>
                        </select>
                    </div>
                </div>
                
                <div class="section-save-controls">
                    <button class="btn btn-sm btn-success section-save-btn" data-section="output-parameters">
                        üíæ Save Output Parameters to Project
                    </button>
                </div>
            </div>
            
            <!-- Tenner System -->
            <div class="filter-section">
                <h3>üéØ Tenner System</h3>
                
                <!-- Generation Mode Toggle -->
                <div class="tenner-mode-toggle">
                    <label>Generation Mode:</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="tenner-mode" value="batch">
                            <span>Batch (all permutations)</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="tenner-mode" value="single" checked>
                            <span>Single (specific option)</span>
                        </label>
                    </div>
                </div>
                
                <div class="filter-group">
                    <div>
                        <label for="tenner-1" class="field-label">
                            Tenner 1 (Primary)
                            <span class="info-icon" data-field="tenner-1" title="Click for help">?</span>
                        </label>
                        <select id="tenner-1">
                            <option value="">Select Tenner...</option>
                            <option value="default">Default (None)</option>
                            <option value="T1">T1</option>
                            <option value="T2">T2</option>
                            <option value="T3">T3</option>
                            <option value="T4">T4</option>
                            <option value="T5">T5</option>
                            <option value="T6">T6</option>
                            <option value="T7">T7</option>
                            <option value="T8">T8</option>
                            <option value="T9">T9</option>
                            <option value="T10">T10</option>
                            <option value="T11">T11</option>
                            <option value="T12">T12</option>
                            <option value="T13">T13</option>
                            <option value="T14">T14</option>
                            <option value="T15">T15</option>
                            <option value="T16">T16</option>
                            <option value="T17">T17</option>
                            <option value="T18">T18</option>
                            <option value="T19">T19</option>
                            <option value="T20">T20</option>
                            <option value="T21">T21</option>
                            <option value="T22">T22</option>
                            <option value="T23">T23</option>
                            <option value="T24">T24</option>
                            <option value="T25">T25</option>
                            <option value="T26">T26</option>
                            <option value="T27">T27</option>
                            <option value="T28">T28</option>
                            <option value="T29">T29</option>
                            <option value="T30">T30</option>
                            <option value="T31">T31</option>
                            <option value="T32">T32</option>
                        </select>
                    </div>
                    
                    <!-- Single Mode Option Dropdown -->
                    <div id="tenner-1-option" class="tenner-option" style="display: none;">
                        <label for="tenner-1-specific">T1 Option</label>
                        <select id="tenner-1-specific">
                            <option value="">Select specific option...</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="tenner-2" class="field-label">
                            Tenner 2 (Secondary)
                            <span class="info-icon" data-field="tenner-2" title="Click for help">?</span>
                        </label>
                        <select id="tenner-2">
                            <option value="">Select Tenner...</option>
                            <option value="default">Default (None)</option>
                            <option value="none">None</option>
                            <option value="T1">T1</option>
                            <option value="T2">T2</option>
                            <option value="T3">T3</option>
                            <option value="T4">T4</option>
                            <option value="T5">T5</option>
                            <option value="T6">T6</option>
                            <option value="T7">T7</option>
                            <option value="T8">T8</option>
                            <option value="T9">T9</option>
                            <option value="T10">T10</option>
                            <option value="T11">T11</option>
                            <option value="T12">T12</option>
                            <option value="T13">T13</option>
                            <option value="T14">T14</option>
                            <option value="T15">T15</option>
                            <option value="T16">T16</option>
                            <option value="T17">T17</option>
                            <option value="T18">T18</option>
                            <option value="T19">T19</option>
                            <option value="T20">T20</option>
                            <option value="T21">T21</option>
                            <option value="T22">T22</option>
                            <option value="T23">T23</option>
                            <option value="T24">T24</option>
                            <option value="T25">T25</option>
                            <option value="T26">T26</option>
                            <option value="T27">T27</option>
                            <option value="T28">T28</option>
                            <option value="T29">T29</option>
                            <option value="T30">T30</option>
                            <option value="T31">T31</option>
                            <option value="T32">T32</option>
                        </select>
                    </div>
                    
                    <!-- Single Mode Option Dropdown -->
                    <div id="tenner-2-option" class="tenner-option" style="display: none;">
                        <label for="tenner-2-specific">T2 Option</label>
                        <select id="tenner-2-specific">
                            <option value="">Select specific option...</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="tenner-3" class="field-label">
                            Tenner 3 (Tertiary)
                            <span class="info-icon" data-field="tenner-3" title="Click for help">?</span>
                        </label>
                        <select id="tenner-3">
                            <option value="">Select Tenner...</option>
                            <option value="default">Default (None)</option>
                            <option value="none">None</option>
                            <option value="T1">T1</option>
                            <option value="T2">T2</option>
                            <option value="T3">T3</option>
                            <option value="T4">T4</option>
                            <option value="T5">T5</option>
                            <option value="T6">T6</option>
                            <option value="T7">T7</option>
                            <option value="T8">T8</option>
                            <option value="T9">T9</option>
                            <option value="T10">T10</option>
                            <option value="T11">T11</option>
                            <option value="T12">T12</option>
                            <option value="T13">T13</option>
                            <option value="T14">T14</option>
                            <option value="T15">T15</option>
                            <option value="T16">T16</option>
                            <option value="T17">T17</option>
                            <option value="T18">T18</option>
                            <option value="T19">T19</option>
                            <option value="T20">T20</option>
                            <option value="T21">T21</option>
                            <option value="T22">T22</option>
                            <option value="T23">T23</option>
                            <option value="T24">T24</option>
                            <option value="T25">T25</option>
                            <option value="T26">T26</option>
                            <option value="T27">T27</option>
                            <option value="T28">T28</option>
                            <option value="T29">T29</option>
                            <option value="T30">T30</option>
                            <option value="T31">T31</option>
                            <option value="T32">T32</option>
                        </select>
                    </div>
                    
                    <!-- Single Mode Option Dropdown -->
                    <div id="tenner-3-option" class="tenner-option" style="display: none;">
                        <label for="tenner-3-specific">T3 Option</label>
                        <select id="tenner-3-specific">
                            <option value="">Select specific option...</option>
                        </select>
                    </div>
                </div>
                
                <div class="tenner-info">
                    <p><strong>Tenner Combinations:</strong></p>
                    <ul>
                        <li><strong>1 Tenner:</strong> 10 permutations</li>
                        <li><strong>2 Tenners:</strong> 100 permutations (10¬≤)</li>
                        <li><strong>3 Tenners:</strong> 1,000 permutations (10¬≥)</li>
                    </ul>
                    <p class="tenner-status" id="tenner-status">Select Tenners to see combination count</p>
                    <div class="chunk-id-display" id="chunk-id-display" style="display: none;">
                        <p><strong>Chunk ID:</strong> <span id="chunk-id-value"></span></p>
                    </div>
                </div>
                
                <!-- Pose Selection (only visible when T1 is selected) -->
                <div id="pose-selection" class="tenner-pose-section" style="display: none;">
                    <h4>üé≠ Character Pose</h4>
                    <div class="filter-group">
                        <div>
                            <label for="tenner-pose" class="field-label">
                                Pose
                                <span class="info-icon" data-field="tenner-pose" title="Click for help">?</span>
                            </label>
                            <select id="tenner-pose">
                                <option value="default">Default (Arms Open Welcome)</option>
                                <option value="arms_open_welcome">Arms Open Welcome</option>
                                <option value="seated_contemplative">Seated Contemplative</option>
                                <option value="pointing_forward">Pointing Forward</option>
                                <option value="hands_on_hips">Hands on Hips</option>
                                <option value="waving_hello">Waving Hello</option>
                                <option value="standing_confident">Standing Confident</option>
                                <option value="arms_crossed">Arms Crossed</option>
                                <option value="leaning_forward">Leaning Forward</option>
                                <option value="hands_clasped">Hands Clasped</option>
                                <option value="one_hand_raised">One Hand Raised</option>
                                <option value="both_hands_up">Both Hands Up</option>
                                <option value="head_tilted">Head Tilted</option>
                                <option value="sitting_casual">Sitting Casual</option>
                                <option value="sitting_formal">Sitting Formal</option>
                                <option value="kneeling">Kneeling</option>
                                <option value="crouching">Crouching</option>
                                <option value="reaching_out">Reaching Out</option>
                                <option value="embracing">Embracing</option>
                                <option value="shrugging">Shrugging</option>
                                <option value="thinking_pose">Thinking Pose</option>
                                <option value="surprised_pose">Surprised Pose</option>
                                <option value="excited_jump">Excited Jump</option>
                                <option value="walking_pose">Walking Pose</option>
                                <option value="running_pose">Running Pose</option>
                                <option value="dancing_pose">Dancing Pose</option>
                                <option value="sleeping_pose">Sleeping Pose</option>
                                <option value="reading_pose">Reading Pose</option>
                                <option value="writing_pose">Writing Pose</option>
                                <option value="cooking_pose">Cooking Pose</option>
                                <option value="custom">Custom</option>
                            </select>
                        </div>
                        
                        <!-- Custom Pose Input (only visible when Custom is selected) -->
                        <div id="custom-pose-input" style="display: none;">
                            <label for="custom-pose-text" class="field-label">
                                Custom Pose Description
                                <span class="info-icon" data-field="custom-pose-text" title="Click for help">?</span>
                            </label>
                            <input type="text" id="custom-pose-text" placeholder="Enter custom pose description (e.g., 'sitting on a chair reading a book')" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Style Guide -->
            <div class="filter-section">
                <h3>üé® Style Guide</h3>
                <div class="filter-group">
                    <div>
                        <label for="assemble-texture" class="field-label">
                            Texture DNA
                            <span class="info-icon" data-field="assemble-texture" title="Click for help">?</span>
                        </label>
                        <select id="assemble-texture">
                            <option value="default">Default (Felted Wool Character DNA)</option>
                            <option value="texture_001">Felted Wool Character DNA (Canonical)</option>
                            <option value="texture_002">Stop-Motion Puppet Realism</option>
                            <option value="texture_003">Fabric Wardrobe Materials</option>
                            <option value="texture_004">Wooden Prop Surfaces</option>
                            <option value="texture_005">Ceramic & Pottery</option>
                            <option value="texture_006">Metal Hardware</option>
                            <option value="texture_007">Glass & Crystal</option>
                            <option value="texture_008">Leather & Hide</option>
                            <option value="texture_009">Paper & Cardboard</option>
                            <option value="texture_010">Stone & Mineral</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-material" class="field-label">
                            Material
                            <span class="info-icon" data-field="assemble-material" title="Click for help">?</span>
                        </label>
                        <select id="assemble-material">
                            <option value="default">Default (All Materials)</option>
                            <option value="all">All Materials</option>
                            <option value="felted">Felted</option>
                            <option value="woolen">Woolen</option>
                            <option value="fibrous">Fibrous</option>
                            <option value="matte">Matte</option>
                            <option value="handcrafted">Handcrafted</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-color" class="field-label">
                            Color Palette
                            <span class="info-icon" data-field="assemble-color" title="Click for help">?</span>
                        </label>
                        
                        <!-- Palette Mode Selection -->
                        <div class="palette-mode-selection">
                            <div class="radio-group">
                                <label class="radio-option">
                                    <input type="radio" name="palette-mode" value="standard" checked>
                                    <span>Standard Palette</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="palette-mode" value="custom">
                                    <span>Custom Palette</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="palette-mode" value="single">
                                    <span>Single Color</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Standard Palette Selection -->
                        <div id="standard-palette-section" class="palette-section">
                            <select id="assemble-color-palette">
                                <option value="default">Default (Classic Anamalia)</option>
                                <option value="classic_anamalia">Classic Anamalia</option>
                                <option value="warm_earth_tones">Warm Earth Tones</option>
                                <option value="cool_pastels">Cool Pastels</option>
                                <option value="autumn_harvest">Autumn Harvest</option>
                                <option value="spring_meadow">Spring Meadow</option>
                                <option value="ocean_depths">Ocean Depths</option>
                                <option value="sunset_glow">Sunset Glow</option>
                                <option value="forest_canopy">Forest Canopy</option>
                                <option value="desert_bloom">Desert Bloom</option>
                                <option value="winter_frost">Winter Frost</option>
                            </select>
                            
                            <!-- Color Usage Mode -->
                            <div class="color-usage-mode">
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="color-usage-mode" value="all" checked>
                                        <span>Use All Colors</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="color-usage-mode" value="select">
                                        <span>Select Specific Colors</span>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Color Swatches Display -->
                            <div id="color-swatches" class="color-swatches">
                                <!-- Color swatches will be populated by JavaScript -->
                            </div>
                            
                            <!-- Individual Color Selection -->
                            <div id="individual-color-selection" class="individual-color-selection" style="display: none;">
                                <!-- Individual color checkboxes will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <!-- Custom Palette Upload -->
                        <div id="custom-palette-section" class="palette-section" style="display: none;">
                            <div class="file-upload-area">
                                <input type="file" id="custom-palette-file" accept=".png,.jpg,.jpeg,.json,.txt">
                                <div class="file-upload-text">
                                    <p>Upload palette file:</p>
                                    <p class="file-types">PNG/JPG (extract colors) ‚Ä¢ JSON (color array) ‚Ä¢ TXT (hex codes)</p>
                                </div>
                            </div>
                            
                            <!-- Custom Palette Preview -->
                            <div id="custom-palette-preview" class="custom-palette-preview" style="display: none;">
                                <h4>Custom Palette Preview</h4>
                                <div id="custom-color-swatches" class="color-swatches">
                                    <!-- Custom color swatches will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Single Color Selection (Backward Compatibility) -->
                        <div id="single-color-section" class="palette-section" style="display: none;">
                            <select id="assemble-color-single">
                                <option value="default">Default (All Colors)</option>
                                <option value="all">All Colors</option>
                                <option value="ochre">Ochre</option>
                                <option value="cream">Cream</option>
                                <option value="soft-pink">Soft Pink</option>
                                <option value="muted-blue">Muted Blue</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <label for="assemble-composition" class="field-label">
                            Composition
                            <span class="info-icon" data-field="assemble-composition" title="Click for help">?</span>
                        </label>
                        <select id="assemble-composition">
                            <option value="default">Default (All Compositions)</option>
                            <option value="all">All Compositions</option>
                            <option value="miniature">Miniature</option>
                            <option value="tabletop">Tabletop</option>
                            <option value="cinematic-depth">Cinematic Depth</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-tone" class="field-label">
                            Tone
                            <span class="info-icon" data-field="assemble-tone" title="Click for help">?</span>
                        </label>
                        <select id="assemble-tone">
                            <option value="default">Default (All Tones)</option>
                            <option value="all">All Tones</option>
                            <option value="nostalgic">Nostalgic</option>
                            <option value="cheerful">Cheerful</option>
                            <option value="gentle">Gentle</option>
                            <option value="inviting">Inviting</option>
                        </select>
                        <button class="btn btn-sm btn-secondary view-doc-btn" data-doc="vocabulary" style="margin-top: 0.5rem; width: 100%;">
                            üìñ View Doc
                        </button>
                    </div>
                </div>
                
                <div class="section-save-controls">
                    <button class="btn btn-sm btn-success section-save-btn" data-section="style-guide">
                        üíæ Save Style Guide to Project
                    </button>
                </div>
            </div>

            <!-- Scene Guide -->
            <div class="filter-section">
                <h3>üèûÔ∏è Scene Guide</h3>
                <div class="filter-group">
                    <div>
                        <label for="assemble-scene" class="field-label">
                            Scene
                            <span class="info-icon" data-field="assemble-scene" title="Click for help">?</span>
                        </label>
                        <select id="assemble-scene">
                            <option value="default">Default (Piazza v2)</option>
                            <option value="all">All Scenes</option>
                            <option value="piazza_v2">Piazza v2</option>
                            <option value="library_v1">Library v1</option>
                            <option value="garden_v1">Garden v1</option>
                            <option value="greenscreen_v1">Green Screen v1</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-scene-manual" class="field-label">
                            Manual Scene Entry
                            <span class="info-icon" data-field="assemble-scene-manual" title="Click for help">?</span>
                        </label>
                        <input type="text" id="assemble-scene-manual" placeholder="Enter custom scene description..." />
                    </div>
                    
                    <!-- Tape Markings Toggle (only visible when green-screen is selected) -->
                    <div id="tape-markings-section" class="tape-markings-section" style="display: none;">
                        <div class="checkbox-group">
                            <label class="checkbox-option">
                                <input type="checkbox" id="assemble-tape-markings">
                                <span>Include Tape Markings</span>
                            </label>
                            <p class="field-help">Add T-marks and spike tape for alignment reference</p>
                        </div>
                    </div>
                </div>
                
                <div class="section-save-controls">
                    <button class="btn btn-sm btn-success section-save-btn" data-section="scene-guide">
                        üíæ Save Scene Guide to Project
                    </button>
                </div>
            </div>

            <!-- Wardrobe -->
            <div class="filter-section">
                <h3>üëï Wardrobe</h3>
                <div class="filter-group">
                    <div>
                        <label for="assemble-wardrobe" class="field-label">
                            Wardrobe
                            <span class="info-icon" data-field="assemble-wardrobe" title="Click for help">?</span>
                        </label>
                        <select id="assemble-wardrobe">
                            <option value="default">Default (No Wardrobe)</option>
                            <option value="none">No Wardrobe</option>
                            <option value="sunhat">Sun Hat</option>
                            <option value="cowboy_hat">Cowboy Hat</option>
                            <option value="spectacles">Spectacles</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-props" class="field-label">
                            Props
                            <span class="info-icon" data-field="assemble-props" title="Click for help">?</span>
                        </label>
                        <select id="assemble-props">
                            <option value="default">Default (No Props)</option>
                            <option value="none">No Props</option>
                            <option value="teacup">Tea Cup</option>
                            <option value="book">Book</option>
                            <option value="musical_instrument">Musical Instrument</option>
                        </select>
                    </div>
                </div>
                
                <div class="section-save-controls">
                    <button class="btn btn-sm btn-success section-save-btn" data-section="wardrobe">
                        üíæ Save Wardrobe to Project
                    </button>
                </div>
            </div>

            <!-- Mood & Lighting -->
            <div class="filter-section">
                <h3>üí° Mood & Lighting</h3>
                <div class="filter-group">
                    <div>
                        <label for="assemble-lighting" class="field-label">
                            Lighting
                            <span class="info-icon" data-field="assemble-lighting" title="Click for help">?</span>
                        </label>
                        <select id="assemble-lighting">
                            <option value="default">Default (Golden Hour Directional Rig)</option>
                            <option value="lighting_001">Golden Hour Directional Rig (Canonical)</option>
                            <option value="lighting_002">Soft Indoor Ambient</option>
                            <option value="lighting_003">Dramatic Studio Shadows</option>
                            <option value="lighting_004">Studio White Clean</option>
                            <option value="lighting_005">Warm Sunset Glow</option>
                            <option value="lighting_006">Cool Moonlight</option>
                            <option value="lighting_007">Warm Candlelight</option>
                            <option value="lighting_008">Bright Daylight</option>
                            <option value="lighting_009">Moody Overcast</option>
                            <option value="lighting_010">Warm Firelight</option>
                        </select>
                        <div id="assemble-lighting-codified-display" class="codified-scheme-display" style="display: none;">
                            <div class="codified-scheme-header">
                                <strong>üìù Codified Scheme:</strong>
                            </div>
                            <div id="assemble-lighting-codified-text" class="codified-scheme-text">
                                <!-- Codified scheme text will be displayed here -->
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label for="assemble-film-type" class="field-label">
                            Film Type
                            <span class="info-icon" data-field="assemble-film-type" title="Click for help">?</span>
                        </label>
                        <select id="assemble-film-type">
                            <option value="default">Default (Stop Motion)</option>
                            <option value="all">All Film Types</option>
                            <option value="stop_motion">Stop Motion</option>
                            <option value="claymation">Claymation</option>
                            <option value="puppet_animation">Puppet Animation</option>
                            <option value="miniature">Miniature</option>
                            <option value="diorama">Diorama</option>
                            <option value="tilt_shift">Tilt Shift</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-film-stock" class="field-label">
                            Film Stock
                            <span class="info-icon" data-field="assemble-film-stock" title="Click for help">?</span>
                        </label>
                        <select id="assemble-film-stock">
                            <option value="default">Default (Kodak Portra 400)</option>
                            <option value="kodak_portra_400">Kodak Portra 400</option>
                            <option value="kodak_ultramax_400">Kodak Ultramax 400</option>
                            <option value="fuji_superia_400">Fuji Superia 400</option>
                            <option value="ilford_hp5_400">Ilford HP5 400</option>
                            <option value="kodak_gold_200">Kodak Gold 200</option>
                            <option value="fuji_velvia_50">Fuji Velvia 50</option>
                            <option value="kodak_tmax_100">Kodak T-Max 100</option>
                            <option value="agfa_vista_200">Agfa Vista 200</option>
                            <option value="lomography_color_400">Lomography Color 400</option>
                            <option value="cinestill_800t">Cinestill 800T</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-camera" class="field-label">
                            Camera
                            <span class="info-icon" data-field="assemble-camera" title="Click for help">?</span>
                        </label>
                        <select id="assemble-camera">
                            <option value="default">Default (35mm Eye-level)</option>
                            <option value="camera_001">35mm Eye-level (Canonical)</option>
                            <option value="camera_002">35mm 3/4 Height</option>
                            <option value="camera_003">35mm Low Angle</option>
                            <option value="camera_004">35mm High Angle</option>
                            <option value="camera_005">35mm 3/4 Left</option>
                            <option value="camera_006">35mm 3/4 Right</option>
                            <option value="camera_007">35mm Profile</option>
                            <option value="camera_008">35mm Back 3/4</option>
                            <option value="camera_009">50mm Portrait</option>
                            <option value="camera_010">24mm Wide</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-tripod-height" class="field-label">
                            Tripod Height <span class="auto-sync-indicator">(auto-synced)</span>
                            <span class="info-icon" data-field="assemble-tripod-height" title="Click for help">?</span>
                        </label>
                        <select id="assemble-tripod-height" disabled>
                            <option value="0.5">0.5 meters</option>
                            <option value="0.75">0.75 meters</option>
                            <option value="1.0" selected>1.0 meters</option>
                            <option value="1.5">1.5 meters</option>
                        </select>
                    </div>
                </div>
                
                <div class="section-save-controls">
                    <button class="btn btn-sm btn-success section-save-btn" data-section="mood-lighting">
                        üíæ Save Mood & Lighting to Project
                    </button>
                </div>
            </div>
            
            <div class="assemble-actions">
                <button id="reset-defaults-btn" class="btn btn-outline">
                    üîÑ Reset to Defaults
                </button>
                <button id="save-all-settings-btn" class="btn btn-success btn-large">
                    üíæ Save All Settings to Project
                </button>
                <button id="generate-bundles-btn" class="btn btn-primary btn-large">
                    üöÄ Generate Bundles
                </button>
                <button id="preview-prompt-btn" class="btn btn-secondary">
                    üëÅÔ∏è Preview Prompt
                </button>
            </div>
            
            <div id="assemble-results" class="assemble-results" style="display: none;">
                <h3>üìä Generation Results</h3>
                <div id="assemble-output-log" class="output-log">
                    <!-- Results will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Info Modal -->
    <div id="info-modal" class="info-modal" role="dialog" aria-labelledby="info-modal-title" aria-modal="true" aria-hidden="true">
        <div class="info-modal-content">
            <div class="info-modal-header">
                <h3 id="info-modal-title">Field Information</h3>
                <button id="info-modal-close" class="info-modal-close" aria-label="Close help dialog">√ó</button>
            </div>
            <div class="info-modal-body">
                <div id="info-modal-content">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Document Viewer Modal -->
    <div id="doc-modal" class="doc-modal" role="dialog" aria-labelledby="doc-modal-title" aria-modal="true" aria-hidden="true">
        <div class="doc-modal-content">
            <div class="doc-modal-header">
                <h3 id="doc-modal-title">Documentation</h3>
                <button id="doc-modal-close" class="doc-modal-close" aria-label="Close document viewer">√ó</button>
            </div>
            <div class="doc-modal-body">
                <div id="doc-modal-content">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="app.js?v=202501241400"></script>
</body>
</html>
