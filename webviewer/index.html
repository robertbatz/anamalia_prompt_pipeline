<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anamalia Prompt Assembler - Web Viewer</title>
    <link rel="stylesheet" href="styles.css?v=202501241045">
</head>
<body>
    <div class="header">
        <h1>üé® Anamalia Prompt Assembler</h1>
        <p>Generate assembled prompts and browse your 3D stop-motion renders</p>
        
        <!-- Mode Toggle -->
        <div class="mode-toggle">
            <button id="assemble-mode-btn" class="mode-btn active">
                üîß Assemble Mode
            </button>
            <button id="browse-mode-btn" class="mode-btn">
                üîç Browse Mode
            </button>
        </div>
    </div>

    <div class="container">
        <!-- Statistics -->
        <div id="stats" class="stats">
            <!-- Stats will be populated by JavaScript -->
        </div>

        <!-- Filters -->
        <div class="filters">
            <!-- Search -->
            <div class="filter-section">
                <h3>üîç Search</h3>
                <div class="filter-group">
                    <div class="search-box">
                        <label for="search" class="field-label">
                            Search
                            <button type="button" class="info-icon" data-field="search" title="Click for help" aria-label="Get help for search field">
                                <span class="sr-only">Get help for search field</span>?
                            </button>
                        </label>
                        <input type="text" id="search" placeholder="Search renders, prompts, or tags...">
                    </div>
                </div>
            </div>


            <!-- Style Guide -->
            <div class="filter-section">
                <h3>üé® Style Guide</h3>
                <div class="filter-group">
                    <div>
                        <label for="film-bible-filter" class="field-label">
                            Film Bible
                            <span class="info-icon" data-field="film-bible-filter" title="Click for help">?</span>
                        </label>
                        <select id="film-bible-filter">
                            <option value="all">All Versions</option>
                            <option value="film_bible@1.0.0">Film Bible v1.0.0</option>
                            <option value="film_bible@1.1.0">Film Bible v1.1.0</option>
                            <option value="film_bible@2.0.0">Film Bible v2.0.0</option>
                        </select>
                        <button class="btn btn-sm btn-secondary view-doc-btn" data-doc="film-bible" style="margin-top: 0.5rem; width: 100%;">
                            üìñ View Doc
                        </button>
                    </div>
                    
                    <div>
                        <label for="texture-filter" class="field-label">
                            Texture DNA
                            <span class="info-icon" data-field="texture-filter" title="Click for help">?</span>
                        </label>
                        <select id="texture-filter">
                            <option value="all">All Textures</option>
                            <option value="texture_001">Felted Wool Character DNA</option>
                            <option value="texture_002">Stop-Motion Puppet Realism</option>
                            <option value="texture_003">Fabric Wardrobe Materials</option>
                            <option value="texture_004">Wooden Prop Surfaces</option>
                            <option value="texture_005">Ceramic & Pottery</option>
                            <option value="texture_006">Metal Hardware</option>
                            <option value="texture_007">Glass & Crystal</option>
                            <option value="texture_008">Leather & Hide</option>
                            <option value="texture_009">Paper & Cardboard</option>
                            <option value="texture_010">Stone & Mineral</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="film-stock-filter" class="field-label">
                            Film Stock
                            <span class="info-icon" data-field="film-stock-filter" title="Click for help">?</span>
                        </label>
                        <select id="film-stock-filter">
                            <option value="all">All Film Stocks</option>
                            <option value="kodak_portra_400">Kodak Portra 400</option>
                            <option value="kodak_ultramax_400">Kodak Ultramax 400</option>
                            <option value="fuji_superia_400">Fuji Superia 400</option>
                            <option value="ilford_hp5_400">Ilford HP5 400</option>
                            <option value="kodak_gold_200">Kodak Gold 200</option>
                            <option value="fuji_velvia_50">Fuji Velvia 50</option>
                            <option value="kodak_tmax_100">Kodak T-Max 100</option>
                            <option value="agfa_vista_200">Agfa Vista 200</option>
                            <option value="lomography_color_400">Lomography Color 400</option>
                            <option value="cinestill_800t">Cinestill 800T</option>
                        </select>
                    </div>
                    
                    <!-- Commented out Versioned Lexicons - can be added back later -->
                    <!--
                    <div>
                        <label for="vocabulary-filter" class="field-label">
                            Vocabulary
                            <span class="info-icon" data-field="vocabulary-filter" title="Click for help">?</span>
                        </label>
                        <select id="vocabulary-filter">
                            <option value="all">All Versions</option>
                            <option value="lexicon@v1">Lexicon v1</option>
                            <option value="lexicon@v2">Lexicon v2</option>
                            <option value="lexicon@2025-10-23">Lexicon 2025-10-23</option>
                        </select>
                        <button class="btn btn-sm btn-secondary view-doc-btn" data-doc="vocabulary" style="margin-top: 0.5rem; width: 100%;">
                            üìñ View Doc
                        </button>
                    </div>
                    -->
                    
                    <!-- Lexicon Categories for fine-grained control -->
                    <div>
                        <label for="material-filter" class="field-label">
                            Material
                            <span class="info-icon" data-field="material-filter" title="Click for help">?</span>
                        </label>
                        <select id="material-filter">
                            <option value="all">All Materials</option>
                            <option value="felted">Felted</option>
                            <option value="woolen">Woolen</option>
                            <option value="fibrous">Fibrous</option>
                            <option value="matte">Matte</option>
                            <option value="handcrafted">Handcrafted</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="light-filter" class="field-label">
                            Light
                            <span class="info-icon" data-field="light-filter" title="Click for help">?</span>
                        </label>
                        <select id="light-filter">
                            <option value="all">All Lighting</option>
                            <option value="warm">Warm</option>
                            <option value="directional">Directional</option>
                            <option value="diffused">Diffused</option>
                            <option value="golden-hour">Golden Hour</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="color-filter" class="field-label">
                            Color
                            <span class="info-icon" data-field="color-filter" title="Click for help">?</span>
                        </label>
                        <select id="color-filter">
                            <option value="all">All Colors</option>
                            <option value="ochre">Ochre</option>
                            <option value="cream">Cream</option>
                            <option value="soft-pink">Soft Pink</option>
                            <option value="muted-blue">Muted Blue</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="composition-filter" class="field-label">
                            Composition
                            <span class="info-icon" data-field="composition-filter" title="Click for help">?</span>
                        </label>
                        <select id="composition-filter">
                            <option value="all">All Compositions</option>
                            <option value="miniature">Miniature</option>
                            <option value="tabletop">Tabletop</option>
                            <option value="cinematic-depth">Cinematic Depth</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="tone-filter" class="field-label">
                            Tone
                            <span class="info-icon" data-field="tone-filter" title="Click for help">?</span>
                        </label>
                        <select id="tone-filter">
                            <option value="all">All Tones</option>
                            <option value="nostalgic">Nostalgic</option>
                            <option value="cheerful">Cheerful</option>
                            <option value="gentle">Gentle</option>
                            <option value="inviting">Inviting</option>
                        </select>
                        <button class="btn btn-sm btn-secondary view-doc-btn" data-doc="vocabulary" style="margin-top: 0.5rem; width: 100%;">
                            üìñ View Doc
                        </button>
                    </div>
                    
                </div>
            </div>

            <!-- Scene Guide -->
            <div class="filter-section">
                <h3>üèûÔ∏è Scene Guide</h3>
                <div class="filter-group">
                    <div>
                        <label for="scene-filter" class="field-label">
                            Scene
                            <span class="info-icon" data-field="scene-filter" title="Click for help">?</span>
                        </label>
                        <select id="scene-filter">
                            <option value="all">All Scenes</option>
                            <option value="piazza_v2">Piazza v2</option>
                            <option value="library_v1">Library v1</option>
                            <option value="garden_v1">Garden v1</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="camera-filter" class="field-label">
                            Camera
                            <span class="info-icon" data-field="camera-filter" title="Click for help">?</span>
                        </label>
                        <select id="camera-filter">
                            <option value="all">All Cameras</option>
                            <option value="camera_001">35mm Eye-level</option>
                            <option value="camera_002">35mm 3/4 Height</option>
                            <option value="camera_003">35mm Low Angle</option>
                            <option value="camera_004">35mm High Angle</option>
                            <option value="camera_005">35mm 3/4 Left</option>
                            <option value="camera_006">35mm 3/4 Right</option>
                            <option value="camera_007">35mm Profile</option>
                            <option value="camera_008">35mm Back 3/4</option>
                            <option value="camera_009">50mm Portrait</option>
                            <option value="camera_010">24mm Wide</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="props-filter" class="field-label">
                            Props
                            <span class="info-icon" data-field="props-filter" title="Click for help">?</span>
                        </label>
                        <select id="props-filter">
                            <option value="all">All Props</option>
                            <option value="none">No Props</option>
                            <option value="teacup">Tea Cup</option>
                            <option value="book">Book</option>
                            <option value="musical_instrument">Musical Instrument</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Wardrobe -->
            <div class="filter-section">
                <h3>üëï Wardrobe</h3>
                <div class="filter-group">
                    <div>
                        <label for="wardrobe-filter" class="field-label">
                            Clothing & Accessories
                            <span class="info-icon" data-field="wardrobe-filter" title="Click for help">?</span>
                        </label>
                        <select id="wardrobe-filter">
                            <option value="all">All Wardrobe</option>
                            <option value="none">No Wardrobe</option>
                            <option value="sunhat">Sun Hat</option>
                            <option value="cowboy_hat">Cowboy Hat</option>
                            <option value="spectacles">Spectacles</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Mood & Lighting -->
            <div class="filter-section">
                <h3>üí° Mood & Lighting</h3>
                <div class="filter-group">
                    <div>
                        <label for="lighting-filter" class="field-label">
                            Lighting
                            <span class="info-icon" data-field="lighting-filter" title="Click for help">?</span>
                        </label>
                        <select id="lighting-filter">
                            <option value="all">All Lighting</option>
                            <option value="lighting_001">Golden Hour Directional Rig</option>
                            <option value="lighting_002">Soft Indoor Ambient</option>
                            <option value="lighting_003">Dramatic Studio Shadows</option>
                            <option value="lighting_004">Studio White Clean</option>
                            <option value="lighting_005">Warm Sunset Glow</option>
                            <option value="lighting_006">Cool Moonlight</option>
                            <option value="lighting_007">Warm Candlelight</option>
                            <option value="lighting_008">Bright Daylight</option>
                            <option value="lighting_009">Moody Overcast</option>
                            <option value="lighting_010">Warm Firelight</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="film-type-filter" class="field-label">
                            Film Type
                            <span class="info-icon" data-field="film-type-filter" title="Click for help">?</span>
                        </label>
                        <select id="film-type-filter">
                            <option value="all">All Film Types</option>
                            <option value="stop_motion">Stop Motion</option>
                            <option value="claymation">Claymation</option>
                            <option value="puppet_animation">Puppet Animation</option>
                            <option value="miniature">Miniature</option>
                            <option value="diorama">Diorama</option>
                            <option value="tilt_shift">Tilt Shift</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="status-filter" class="field-label">
                            Status
                            <span class="info-icon" data-field="status-filter" title="Click for help">?</span>
                        </label>
                        <select id="status-filter">
                            <option value="all">All Status</option>
                            <option value="completed">Completed</option>
                            <option value="pending">Pending</option>
                            <option value="failed">Failed</option>
                            <option value="approved">Approved</option>
                            <option value="rejected">Rejected</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Advanced Filters -->
            <!-- <div class="filter-section">
                <h3>‚öôÔ∏è Advanced</h3>
                <div class="filter-group">
                    <div>
                        <label for="bundle-type-filter" class="field-label">
                            Bundle Type
                            <span class="info-icon" data-field="bundle-type-filter" title="Click for help">?</span>
                        </label>
                        <select id="bundle-type-filter">
                            <option value="all">All Types</option>
                            <option value="standard">Standard Bundle</option>
                            <option value="tenner_chunk">Tenner Chunk</option>
                            <option value="individual_tenner">Individual Tenner</option>
                            <option value="matrix_generated">Matrix Generated</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="date-range-filter" class="field-label">
                            Date Range
                            <span class="info-icon" data-field="date-range-filter" title="Click for help">?</span>
                        </label>
                        <select id="date-range-filter">
                            <option value="all">All Time</option>
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="custom">Custom Range</option>
                        </select>
                    </div>
                </div>
            </div> -->
            
            <!-- Actions -->
            <div class="filter-section">
                <div class="filter-group">
                    <button id="compare-btn" class="btn btn-primary" disabled>
                        üîç Compare (0)
                    </button>
                </div>
            </div>
        </div>

        <!-- Assemble Mode Interface -->
        <div id="assemble-mode" class="assemble-mode">
            <div class="assemble-header">
                <h2>üé¨ Assemble New Prompts</h2>
                <p>Generate new prompt bundles by selecting assets and settings</p>
            </div>

            <!-- Output Parameters -->
            <div class="filter-section">
                <h3>üìê Output Parameters</h3>
                <div class="filter-group">
                    <div>
                        <label for="output-width" class="field-label">
                            Width (pixels)
                            <span class="info-icon" data-field="output-width" title="Click for help">?</span>
                        </label>
                        <select id="output-width">
                            <option value="512">512px</option>
                            <option value="768">768px</option>
                            <option value="1024" selected>1024px</option>
                            <option value="1280">1280px</option>
                            <option value="1536">1536px</option>
                            <option value="2048">2048px</option>
                            <option value="custom">Custom Width</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="output-height" class="field-label">
                            Height (pixels)
                            <span class="info-icon" data-field="output-height" title="Click for help">?</span>
                        </label>
                        <select id="output-height">
                            <option value="512">512px</option>
                            <option value="768">768px</option>
                            <option value="1024" selected>1024px</option>
                            <option value="1280">1280px</option>
                            <option value="1536">1536px</option>
                            <option value="2048">2048px</option>
                            <option value="custom">Custom Height</option>
                        </select>
                    </div>
                </div>
                
                <div class="filter-group">
                    <div>
                        <label for="output-aspect-ratio" class="field-label">
                            Aspect Ratio
                            <span class="info-icon" data-field="output-aspect-ratio" title="Click for help">?</span>
                        </label>
                        <select id="output-aspect-ratio">
                            <option value="1:1">Square (1:1)</option>
                            <option value="4:3">Standard (4:3)</option>
                            <option value="16:9" selected>Widescreen (16:9)</option>
                            <option value="3:2">Classic (3:2)</option>
                            <option value="21:9">Ultrawide (21:9)</option>
                            <option value="9:16">Portrait (9:16)</option>
                            <option value="custom">Custom Ratio</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="output-quality" class="field-label">
                            Quality
                            <span class="info-icon" data-field="output-quality" title="Click for help">?</span>
                        </label>
                        <select id="output-quality">
                            <option value="standard">Standard</option>
                            <option value="high" selected>High</option>
                            <option value="ultra">Ultra</option>
                            <option value="lossless">Lossless</option>
                        </select>
                    </div>
                </div>
                
                <div class="filter-group">
                    <div>
                        <label for="output-format" class="field-label">
                            Output Format
                            <span class="info-icon" data-field="output-format" title="Click for help">?</span>
                        </label>
                        <select id="output-format">
                            <option value="png" selected>PNG</option>
                            <option value="jpg">JPEG</option>
                            <option value="webp">WebP</option>
                            <option value="tiff">TIFF</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="output-color-space" class="field-label">
                            Color Space
                            <span class="info-icon" data-field="output-color-space" title="Click for help">?</span>
                        </label>
                        <select id="output-color-space">
                            <option value="sRGB" selected>sRGB</option>
                            <option value="AdobeRGB">Adobe RGB</option>
                            <option value="P3">P3</option>
                            <option value="Rec2020">Rec. 2020</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Tenner System -->
            <div class="filter-section">
                <h3>üéØ Tenner System</h3>
                
                <!-- Generation Mode Toggle -->
                <div class="tenner-mode-toggle">
                    <label>Generation Mode:</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="tenner-mode" value="batch" checked>
                            <span>Batch (all permutations)</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="tenner-mode" value="single">
                            <span>Single (specific option)</span>
                        </label>
                    </div>
                </div>
                
                <div class="filter-group">
                    <div>
                        <label for="tenner-1" class="field-label">
                            Tenner 1 (Primary)
                            <span class="info-icon" data-field="tenner-1" title="Click for help">?</span>
                        </label>
                        <select id="tenner-1">
                            <option value="">Select Tenner...</option>
                            <option value="T1">T1</option>
                            <option value="T2">T2</option>
                            <option value="T3">T3</option>
                            <option value="T4">T4</option>
                            <option value="T5">T5</option>
                            <option value="T6">T6</option>
                            <option value="T7">T7</option>
                            <option value="T8">T8</option>
                            <option value="T9">T9</option>
                            <option value="T10">T10</option>
                            <option value="T11">T11</option>
                            <option value="T12">T12</option>
                            <option value="T13">T13</option>
                            <option value="T14">T14</option>
                            <option value="T15">T15</option>
                            <option value="T16">T16</option>
                            <option value="T17">T17</option>
                            <option value="T18">T18</option>
                            <option value="T19">T19</option>
                            <option value="T20">T20</option>
                            <option value="T21">T21</option>
                            <option value="T22">T22</option>
                            <option value="T23">T23</option>
                            <option value="T24">T24</option>
                            <option value="T25">T25</option>
                            <option value="T26">T26</option>
                            <option value="T27">T27</option>
                            <option value="T28">T28</option>
                            <option value="T29">T29</option>
                            <option value="T30">T30</option>
                            <option value="T31">T31</option>
                            <option value="T32">T32</option>
                        </select>
                    </div>
                    
                    <!-- Single Mode Option Dropdown -->
                    <div id="tenner-1-option" class="tenner-option" style="display: none;">
                        <label for="tenner-1-specific">T1 Option</label>
                        <select id="tenner-1-specific">
                            <option value="">Select specific option...</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="tenner-2" class="field-label">
                            Tenner 2 (Secondary)
                            <span class="info-icon" data-field="tenner-2" title="Click for help">?</span>
                        </label>
                        <select id="tenner-2">
                            <option value="">Select Tenner...</option>
                            <option value="none">None</option>
                            <option value="T1">T1</option>
                            <option value="T2">T2</option>
                            <option value="T3">T3</option>
                            <option value="T4">T4</option>
                            <option value="T5">T5</option>
                            <option value="T6">T6</option>
                            <option value="T7">T7</option>
                            <option value="T8">T8</option>
                            <option value="T9">T9</option>
                            <option value="T10">T10</option>
                            <option value="T11">T11</option>
                            <option value="T12">T12</option>
                            <option value="T13">T13</option>
                            <option value="T14">T14</option>
                            <option value="T15">T15</option>
                            <option value="T16">T16</option>
                            <option value="T17">T17</option>
                            <option value="T18">T18</option>
                            <option value="T19">T19</option>
                            <option value="T20">T20</option>
                            <option value="T21">T21</option>
                            <option value="T22">T22</option>
                            <option value="T23">T23</option>
                            <option value="T24">T24</option>
                            <option value="T25">T25</option>
                            <option value="T26">T26</option>
                            <option value="T27">T27</option>
                            <option value="T28">T28</option>
                            <option value="T29">T29</option>
                            <option value="T30">T30</option>
                            <option value="T31">T31</option>
                            <option value="T32">T32</option>
                        </select>
                    </div>
                    
                    <!-- Single Mode Option Dropdown -->
                    <div id="tenner-2-option" class="tenner-option" style="display: none;">
                        <label for="tenner-2-specific">T2 Option</label>
                        <select id="tenner-2-specific">
                            <option value="">Select specific option...</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="tenner-3" class="field-label">
                            Tenner 3 (Tertiary)
                            <span class="info-icon" data-field="tenner-3" title="Click for help">?</span>
                        </label>
                        <select id="tenner-3">
                            <option value="">Select Tenner...</option>
                            <option value="none">None</option>
                            <option value="T1">T1</option>
                            <option value="T2">T2</option>
                            <option value="T3">T3</option>
                            <option value="T4">T4</option>
                            <option value="T5">T5</option>
                            <option value="T6">T6</option>
                            <option value="T7">T7</option>
                            <option value="T8">T8</option>
                            <option value="T9">T9</option>
                            <option value="T10">T10</option>
                            <option value="T11">T11</option>
                            <option value="T12">T12</option>
                            <option value="T13">T13</option>
                            <option value="T14">T14</option>
                            <option value="T15">T15</option>
                            <option value="T16">T16</option>
                            <option value="T17">T17</option>
                            <option value="T18">T18</option>
                            <option value="T19">T19</option>
                            <option value="T20">T20</option>
                            <option value="T21">T21</option>
                            <option value="T22">T22</option>
                            <option value="T23">T23</option>
                            <option value="T24">T24</option>
                            <option value="T25">T25</option>
                            <option value="T26">T26</option>
                            <option value="T27">T27</option>
                            <option value="T28">T28</option>
                            <option value="T29">T29</option>
                            <option value="T30">T30</option>
                            <option value="T31">T31</option>
                            <option value="T32">T32</option>
                        </select>
                    </div>
                    
                    <!-- Single Mode Option Dropdown -->
                    <div id="tenner-3-option" class="tenner-option" style="display: none;">
                        <label for="tenner-3-specific">T3 Option</label>
                        <select id="tenner-3-specific">
                            <option value="">Select specific option...</option>
                        </select>
                    </div>
                </div>
                
                <div class="tenner-info">
                    <p><strong>Tenner Combinations:</strong></p>
                    <ul>
                        <li><strong>1 Tenner:</strong> 10 permutations</li>
                        <li><strong>2 Tenners:</strong> 100 permutations (10¬≤)</li>
                        <li><strong>3 Tenners:</strong> 1,000 permutations (10¬≥)</li>
                    </ul>
                    <p class="tenner-status" id="tenner-status">Select Tenners to see combination count</p>
                    <div class="chunk-id-display" id="chunk-id-display" style="display: none;">
                        <p><strong>Chunk ID:</strong> <span id="chunk-id-value"></span></p>
                    </div>
                </div>
                
                <!-- Pose Selection (only visible when T1 is selected) -->
                <div id="pose-selection" class="tenner-pose-section" style="display: none;">
                    <h4>üé≠ Character Pose</h4>
                    <div class="filter-group">
                        <div>
                            <label for="tenner-pose" class="field-label">
                                Pose
                                <span class="info-icon" data-field="tenner-pose" title="Click for help">?</span>
                            </label>
                            <select id="tenner-pose">
                                <option value="arms_open_welcome">Arms Open Welcome</option>
                                <option value="seated_contemplative">Seated Contemplative</option>
                                <option value="pointing_forward">Pointing Forward</option>
                                <option value="hands_on_hips">Hands on Hips</option>
                                <option value="waving_hello">Waving Hello</option>
                                <option value="standing_confident">Standing Confident</option>
                                <option value="arms_crossed">Arms Crossed</option>
                                <option value="leaning_forward">Leaning Forward</option>
                                <option value="hands_clasped">Hands Clasped</option>
                                <option value="one_hand_raised">One Hand Raised</option>
                                <option value="both_hands_up">Both Hands Up</option>
                                <option value="head_tilted">Head Tilted</option>
                                <option value="sitting_casual">Sitting Casual</option>
                                <option value="sitting_formal">Sitting Formal</option>
                                <option value="kneeling">Kneeling</option>
                                <option value="crouching">Crouching</option>
                                <option value="reaching_out">Reaching Out</option>
                                <option value="embracing">Embracing</option>
                                <option value="shrugging">Shrugging</option>
                                <option value="thinking_pose">Thinking Pose</option>
                                <option value="surprised_pose">Surprised Pose</option>
                                <option value="excited_jump">Excited Jump</option>
                                <option value="walking_pose">Walking Pose</option>
                                <option value="running_pose">Running Pose</option>
                                <option value="dancing_pose">Dancing Pose</option>
                                <option value="sleeping_pose">Sleeping Pose</option>
                                <option value="reading_pose">Reading Pose</option>
                                <option value="writing_pose">Writing Pose</option>
                                <option value="cooking_pose">Cooking Pose</option>
                                <option value="custom">Custom</option>
                            </select>
                        </div>
                        
                        <!-- Custom Pose Input (only visible when Custom is selected) -->
                        <div id="custom-pose-input" style="display: none;">
                            <label for="custom-pose-text" class="field-label">
                                Custom Pose Description
                                <span class="info-icon" data-field="custom-pose-text" title="Click for help">?</span>
                            </label>
                            <input type="text" id="custom-pose-text" placeholder="Enter custom pose description (e.g., 'sitting on a chair reading a book')" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
            </div>


            <!-- Style Guide -->
            <div class="filter-section">
                <h3>üé® Style Guide</h3>
                <div class="filter-group">
                    <div>
                        <label for="assemble-film-bible" class="field-label">
                            Film Bible
                            <span class="info-icon" data-field="assemble-film-bible" title="Click for help">?</span>
                        </label>
                        <select id="assemble-film-bible">
                            <option value="film_bible@1.0.0">Film Bible v1.0.0</option>
                            <option value="film_bible@1.1.0">Film Bible v1.1.0</option>
                            <option value="film_bible@2.0.0">Film Bible v2.0.0</option>
                        </select>
                        <button class="btn btn-sm btn-secondary view-doc-btn" data-doc="film-bible" style="margin-top: 0.5rem; width: 100%;">
                            üìñ View Doc
                        </button>
                    </div>
                    
                    <div>
                        <label for="assemble-texture" class="field-label">
                            Texture DNA
                            <span class="info-icon" data-field="assemble-texture" title="Click for help">?</span>
                        </label>
                        <select id="assemble-texture">
                            <option value="texture_001">Felted Wool Character DNA (Canonical)</option>
                            <option value="texture_002">Stop-Motion Puppet Realism</option>
                            <option value="texture_003">Fabric Wardrobe Materials</option>
                            <option value="texture_004">Wooden Prop Surfaces</option>
                            <option value="texture_005">Ceramic & Pottery</option>
                            <option value="texture_006">Metal Hardware</option>
                            <option value="texture_007">Glass & Crystal</option>
                            <option value="texture_008">Leather & Hide</option>
                            <option value="texture_009">Paper & Cardboard</option>
                            <option value="texture_010">Stone & Mineral</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-film-stock" class="field-label">
                            Film Stock
                            <span class="info-icon" data-field="assemble-film-stock" title="Click for help">?</span>
                        </label>
                        <select id="assemble-film-stock">
                            <option value="kodak_portra_400">Kodak Portra 400</option>
                            <option value="kodak_ultramax_400">Kodak Ultramax 400</option>
                            <option value="fuji_superia_400">Fuji Superia 400</option>
                            <option value="ilford_hp5_400">Ilford HP5 400</option>
                            <option value="kodak_gold_200">Kodak Gold 200</option>
                            <option value="fuji_velvia_50">Fuji Velvia 50</option>
                            <option value="kodak_tmax_100">Kodak T-Max 100</option>
                            <option value="agfa_vista_200">Agfa Vista 200</option>
                            <option value="lomography_color_400">Lomography Color 400</option>
                            <option value="cinestill_800t">Cinestill 800T</option>
                        </select>
                    </div>
                    
                    <!-- Commented out Versioned Lexicons for assembly - can be added back later -->
                    <!--
                    <div>
                        <label for="assemble-vocabulary" class="field-label">
                            Vocabulary
                            <span class="info-icon" data-field="assemble-vocabulary" title="Click for help">?</span>
                        </label>
                        <select id="assemble-vocabulary">
                            <option value="lexicon@v1">Lexicon v1</option>
                            <option value="lexicon@v2">Lexicon v2</option>
                            <option value="lexicon@2025-10-23">Lexicon 2025-10-23</option>
                        </select>
                        <button class="btn btn-sm btn-secondary view-doc-btn" data-doc="vocabulary" style="margin-top: 0.5rem; width: 100%;">
                            üìñ View Doc
                        </button>
                    </div>
                    -->
                    
                    <!-- Lexicon Categories for fine-grained control in assembly -->
                    <div>
                        <label for="assemble-material" class="field-label">
                            Material
                            <span class="info-icon" data-field="assemble-material" title="Click for help">?</span>
                        </label>
                        <select id="assemble-material">
                            <option value="all">All Materials</option>
                            <option value="felted">Felted</option>
                            <option value="woolen">Woolen</option>
                            <option value="fibrous">Fibrous</option>
                            <option value="matte">Matte</option>
                            <option value="handcrafted">Handcrafted</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-light" class="field-label">
                            Light
                            <span class="info-icon" data-field="assemble-light" title="Click for help">?</span>
                        </label>
                        <select id="assemble-light">
                            <option value="all">All Lighting</option>
                            <option value="warm">Warm</option>
                            <option value="directional">Directional</option>
                            <option value="diffused">Diffused</option>
                            <option value="golden-hour">Golden Hour</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-color" class="field-label">
                            Color
                            <span class="info-icon" data-field="assemble-color" title="Click for help">?</span>
                        </label>
                        <select id="assemble-color">
                            <option value="all">All Colors</option>
                            <option value="ochre">Ochre</option>
                            <option value="cream">Cream</option>
                            <option value="soft-pink">Soft Pink</option>
                            <option value="muted-blue">Muted Blue</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-composition" class="field-label">
                            Composition
                            <span class="info-icon" data-field="assemble-composition" title="Click for help">?</span>
                        </label>
                        <select id="assemble-composition">
                            <option value="all">All Compositions</option>
                            <option value="miniature">Miniature</option>
                            <option value="tabletop">Tabletop</option>
                            <option value="cinematic-depth">Cinematic Depth</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-tone" class="field-label">
                            Tone
                            <span class="info-icon" data-field="assemble-tone" title="Click for help">?</span>
                        </label>
                        <select id="assemble-tone">
                            <option value="all">All Tones</option>
                            <option value="nostalgic">Nostalgic</option>
                            <option value="cheerful">Cheerful</option>
                            <option value="gentle">Gentle</option>
                            <option value="inviting">Inviting</option>
                        </select>
                        <button class="btn btn-sm btn-secondary view-doc-btn" data-doc="vocabulary" style="margin-top: 0.5rem; width: 100%;">
                            üìñ View Doc
                        </button>
                    </div>
                    
                </div>
            </div>

            <!-- Scene Guide -->
            <div class="filter-section">
                <h3>üèûÔ∏è Scene Guide</h3>
                <div class="filter-group">
                    <div>
                        <label for="assemble-scene" class="field-label">
                            Scene
                            <span class="info-icon" data-field="assemble-scene" title="Click for help">?</span>
                        </label>
                        <select id="assemble-scene">
                            <option value="all">All Scenes</option>
                            <option value="piazza_v2">Piazza v2</option>
                            <option value="library_v1">Library v1</option>
                            <option value="garden_v1">Garden v1</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-camera" class="field-label">
                            Camera
                            <span class="info-icon" data-field="assemble-camera" title="Click for help">?</span>
                        </label>
                        <select id="assemble-camera">
                            <option value="camera_001">35mm Eye-level (Canonical)</option>
                            <option value="camera_002">35mm 3/4 Height</option>
                            <option value="camera_003">35mm Low Angle</option>
                            <option value="camera_004">35mm High Angle</option>
                            <option value="camera_005">35mm 3/4 Left</option>
                            <option value="camera_006">35mm 3/4 Right</option>
                            <option value="camera_007">35mm Profile</option>
                            <option value="camera_008">35mm Back 3/4</option>
                            <option value="camera_009">50mm Portrait</option>
                            <option value="camera_010">24mm Wide</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Wardrobe -->
            <div class="filter-section">
                <h3>üëï Wardrobe</h3>
                <div class="filter-group">
                    <div>
                        <label for="assemble-wardrobe" class="field-label">
                            Wardrobe
                            <span class="info-icon" data-field="assemble-wardrobe" title="Click for help">?</span>
                        </label>
                        <select id="assemble-wardrobe">
                            <option value="none">No Wardrobe</option>
                            <option value="sunhat">Sun Hat</option>
                            <option value="cowboy_hat">Cowboy Hat</option>
                            <option value="spectacles">Spectacles</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-props" class="field-label">
                            Props
                            <span class="info-icon" data-field="assemble-props" title="Click for help">?</span>
                        </label>
                        <select id="assemble-props">
                            <option value="none">No Props</option>
                            <option value="teacup">Tea Cup</option>
                            <option value="book">Book</option>
                            <option value="musical_instrument">Musical Instrument</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Mood & Lighting -->
            <div class="filter-section">
                <h3>üí° Mood & Lighting</h3>
                <div class="filter-group">
                    <div>
                        <label for="assemble-lighting" class="field-label">
                            Lighting
                            <span class="info-icon" data-field="assemble-lighting" title="Click for help">?</span>
                        </label>
                        <select id="assemble-lighting">
                            <option value="lighting_001">Golden Hour Directional Rig (Canonical)</option>
                            <option value="lighting_002">Soft Indoor Ambient</option>
                            <option value="lighting_003">Dramatic Studio Shadows</option>
                            <option value="lighting_004">Studio White Clean</option>
                            <option value="lighting_005">Warm Sunset Glow</option>
                            <option value="lighting_006">Cool Moonlight</option>
                            <option value="lighting_007">Warm Candlelight</option>
                            <option value="lighting_008">Bright Daylight</option>
                            <option value="lighting_009">Moody Overcast</option>
                            <option value="lighting_010">Warm Firelight</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="assemble-film-type" class="field-label">
                            Film Type
                            <span class="info-icon" data-field="assemble-film-type" title="Click for help">?</span>
                        </label>
                        <select id="assemble-film-type">
                            <option value="all">All Film Types</option>
                            <option value="stop_motion">Stop Motion</option>
                            <option value="claymation">Claymation</option>
                            <option value="puppet_animation">Puppet Animation</option>
                            <option value="miniature">Miniature</option>
                            <option value="diorama">Diorama</option>
                            <option value="tilt_shift">Tilt Shift</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Advanced -->
            <!-- <div class="filter-section">
                <h3>‚öôÔ∏è Advanced</h3>
                <div class="filter-group">
                    <div>
                        <label for="assemble-count" class="field-label">
                            Number of Bundles
                            <span class="info-icon" data-field="assemble-count" title="Click for help">?</span>
                        </label>
                        <input type="number" id="assemble-count" value="1" min="1" max="100">
                    </div>
                    
                    <div>
                        <label for="assemble-bundle-type" class="field-label">
                            Bundle Type
                            <span class="info-icon" data-field="assemble-bundle-type" title="Click for help">?</span>
                        </label>
                        <select id="assemble-bundle-type">
                            <option value="standard">Standard Bundle</option>
                            <option value="tenner_chunk">Tenner Chunk</option>
                            <option value="individual_tenner">Individual Tenner</option>
                            <option value="matrix_generated">Matrix Generated</option>
                        </select>
                    </div>
                </div>
            </div> -->
            
            <div class="assemble-actions">
                <button id="generate-bundles-btn" class="btn btn-primary btn-large">
                    üöÄ Generate Bundles
                </button>
                <button id="preview-prompt-btn" class="btn btn-secondary">
                    üëÅÔ∏è Preview Prompt
                </button>
            </div>
            
            <div id="assemble-results" class="assemble-results" style="display: none;">
                <h3>üìä Generation Results</h3>
                <div id="assemble-output-log" class="output-log">
                    <!-- Results will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Browse Mode Interface -->
        <div id="browse-mode" class="browse-mode" style="display: none;">
            <!-- Gallery -->
            <div id="gallery" class="gallery">
                <!-- Renders will be populated by JavaScript -->
            </div>
        </div>

        <!-- Pagination -->
        <div id="pagination" class="pagination">
            <!-- Pagination will be populated by JavaScript -->
        </div>
    </div>

    <!-- Comparison Mode Modal -->
    <div id="comparison-mode" class="comparison-mode">
        <!-- Comparison content will be populated by JavaScript -->
    </div>

    <!-- Info Modal -->
    <div id="info-modal" class="info-modal" role="dialog" aria-labelledby="info-modal-title" aria-modal="true" aria-hidden="true">
        <div class="info-modal-content">
            <div class="info-modal-header">
                <h3 id="info-modal-title">Field Information</h3>
                <button id="info-modal-close" class="info-modal-close" aria-label="Close help dialog">√ó</button>
            </div>
            <div class="info-modal-body">
                <div id="info-modal-content">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Document Viewer Modal -->
    <div id="doc-modal" class="doc-modal" role="dialog" aria-labelledby="doc-modal-title" aria-modal="true" aria-hidden="true">
        <div class="doc-modal-content">
            <div class="doc-modal-header">
                <h3 id="doc-modal-title">Documentation</h3>
                <button id="doc-modal-close" class="doc-modal-close" aria-label="Close document viewer">√ó</button>
            </div>
            <div class="doc-modal-body">
                <div id="doc-modal-content">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="app.js?v=202501241400"></script>
</body>
</html>